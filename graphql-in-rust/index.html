<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.29a86d70a0f97094da26.css">html{font-size:100}body{margin:0 0 0 calc(100vw - 100%);color:#223b4c;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#223b4c;height:26px;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#223b4c 0,#223b4c 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#be2948;text-decoration:none}a:active,a:focus,a:hover{color:#292a48}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#223b4c;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}input,textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;display:block;box-shadow:none;outline:none;font-size:1rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;color:#223b4c;border:none;border-bottom:1px solid #e6e6e6;padding:.625rem 0;height:35px;margin-bottom:1.875rem}input.has-error,textarea.has-error{border-color:rgba(208,17,17,.870588)}textarea{resize:vertical;min-height:35px}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;cursor:pointer;outline:none;display:block;position:relative;top:0;height:35px;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#223b4c;border:1px solid #e6e6e6;border-radius:1.25rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}button:disabled{color:#3e6c8b}button:hover:not(:disabled){color:#be2948}button:active:not(:disabled){color:#be2948;top:3px}.error-message{color:rgba(208,17,17,.870588);margin:0}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#073642}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.Author-module--author__photo--36xCH{display:inline-block;margin-bottom:0;border-radius:50%;background-clip:padding-box}.Author-module--author__title--2CaTb{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--Yrism,.Author-module--author__title-link--Yrism:focus,.Author-module--author__title-link--Yrism:hover{color:#223b4c}.Author-module--author__subtitle--cAaEB{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--Gpyvw{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts--1rGd1{margin-bottom:1.625rem}.Contacts-module--contacts__list--3OgdW{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:8.75rem}.Contacts-module--contacts__list-item--16p9q{padding:0;margin:.25rem;display:flex;align-content:center;align-items:center;justify-content:center;height:35px;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #fff}.Contacts-module--contacts__list-item-link--2MIDn{border:0;display:flex;color:#223b4c}.Contacts-module--contacts__list-item-link--2MIDn:focus,.Contacts-module--contacts__list-item-link--2MIDn:hover{color:#be2948}.Copyright-module--copyright--1ariN{color:#3e6c8b;font-size:.875rem}.Menu-module--menu--Efbin{margin-bottom:1.625rem}.Menu-module--menu__list--31Zeo{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--1lJ6B{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--10Ush{font-size:1rem;color:#223b4c;font-weight:400;border:0}.Menu-module--menu__list-item-link--10Ush:focus,.Menu-module--menu__list-item-link--10Ush:hover{color:#be2948;border-bottom:1px solid #be2948}.Menu-module--menu__list-item-link--active--2CbUO{color:#223b4c;border-bottom:1px solid #223b4c}.Sidebar-module--sidebar--X4z2p{width:100%}.Sidebar-module--sidebar__inner--Jdc5s{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--X4z2p{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--Jdc5s:after{background:#e6e6e6;background:-webkit-gradient(linear,left top,left bottom,from(#e6e6e6),color-stop(48%,#e6e6e6),to(#fff));background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:540px;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--X4z2p{width:calc(33.3% - 1.25rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(3n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(3n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:2.5rem}}.Layout-module--layout--3Pyz6{max-width:66.875rem;margin-left:auto;margin-right:auto}.Layout-module--layout--3Pyz6:before{content:"";display:table}.Layout-module--layout--3Pyz6:after{content:"";display:table;clear:both}.Feed-module--feed__item--2D5rE{margin-bottom:2.03125rem}.Feed-module--feed__item--2D5rE:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--3nigr{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--iFMRs{color:#223b4c}.Feed-module--feed__item-title-link--iFMRs:focus,.Feed-module--feed__item-title-link--iFMRs:hover{color:#223b4c;border-bottom:1px solid #223b4c}.Feed-module--feed__item-description--1uO8e{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-meta-time--3t1fg{font-size:.875rem;color:#223b4c;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--N-Q0A{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--23f8F{font-size:.875rem;color:#292a48;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--23f8F:focus,.Feed-module--feed__item-meta-category-link--23f8F:hover{color:#be2948}.Feed-module--feed__item-readmore--1u6bI{font-size:1rem;color:#be2948}.Feed-module--feed__item-readmore--1u6bI:focus,.Feed-module--feed__item-readmore--1u6bI:hover{color:#be2948;border-bottom:1px solid #be2948}.Page-module--page--2nMky{margin-bottom:3.25rem}.Page-module--page__inner--2M_vz{padding:1.5625rem 1.25rem}.Page-module--page__title--GPD8L{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--Ic6i6{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--2nMky{width:calc(58.275% - .78125rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(12n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(12n+1){clear:both}.Page-module--page__inner--2M_vz{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--2nMky{width:calc(66.6% - .625rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(3n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(3n+1){clear:both}.Page-module--page__inner--2M_vz{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--2H3nO{margin-top:3.25rem;display:flex}.Pagination-module--pagination__prev--bet5s{width:50%;text-align:left}.Pagination-module--pagination__prev-link--1Nzs6{color:#292a48;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--1Nzs6:focus,.Pagination-module--pagination__prev-link--1Nzs6:hover{color:#be2948}.Pagination-module--pagination__prev-link--disable--Yklx9{pointer-events:none;color:#bed3e2}.Pagination-module--pagination__next--3hFiN{width:50%;text-align:right}.Pagination-module--pagination__next-link--3FUtA{color:#292a48;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3FUtA:focus,.Pagination-module--pagination__next-link--3FUtA:hover{color:#be2948}.Pagination-module--pagination__next-link--disable--30UwZ{pointer-events:none;color:#bed3e2}.Author-module--author--2Yefr{border-top:1px solid #e6e6e6;max-width:40rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-twitter--n-O9n{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2Yefr{margin-left:auto;margin-right:auto}}.Content-module--content--3p512{max-width:59.0625rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--2BDW9{font-size:2rem;max-width:40rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__body--2TrQ- figure{margin-bottom:1.625rem}.Content-module--content__body--2TrQ- figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2TrQ- figure blockquote p{max-width:40rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2TrQ- a{text-decoration:underline}.Content-module--content__body--2TrQ- *{max-width:40rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2TrQ- img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3p512{padding:0}.Content-module--content__title--2BDW9{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2TrQ-,.Content-module--content__body--2TrQ- p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Meta-module--meta__date--29eD7{font-style:italic}.Tags-module--tags--1L_ct{margin-bottom:.8125rem}.Tags-module--tags__list--91FqN{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--1M30P{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--3SL_8{display:inline-block;height:35px;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:#223b4c}.Tags-module--tags__list-item-link--3SL_8:focus,.Tags-module--tags__list-item-link--3SL_8:hover{color:#be2948}.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{max-width:40rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--16Kl0{display:block;max-width:5.625rem;height:35px;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#223b4c;border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--16Kl0:focus,.Post-module--post__home-button--16Kl0:hover{color:#be2948}@media screen and (min-width:960px){.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{padding:0}.Post-module--post__home-button--16Kl0{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.15.9"/><link rel="alternate" type="application/rss+xml" title="Arthur K." href="/rss.xml"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-147707170-1"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-147707170-1', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#223B4C"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><title data-react-helmet="true">Easy GraphQL requests with Rust - Arthur K.</title><meta data-react-helmet="true" name="description" content=""/><meta data-react-helmet="true" property="og:site_name" content="Easy GraphQL requests with Rust - Arthur K."/><meta data-react-helmet="true" property="og:image" content="https://arthurkhlghatyan.github.io/media/graphql-in-rust.jpg"/><meta data-react-helmet="true" property="og:image:secure_url" content="https://arthurkhlghatyan.github.io/media/graphql-in-rust.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Easy GraphQL requests with Rust - Arthur K."/><meta data-react-helmet="true" name="twitter:description" content=""/><link as="script" rel="preload" href="/webpack-runtime-4136eca1a17b84e17e55.js"/><link as="script" rel="preload" href="/app-8269cb72029c2ff29079.js"/><link as="script" rel="preload" href="/styles-cc4f44a7919fcaed6f8b.js"/><link as="script" rel="preload" href="/commons-793d59dbe64e16175122.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-d53f334db4ffdd468af9.js"/><link as="fetch" rel="preload" href="/page-data/graphql-in-rust/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="Layout-module--layout--3Pyz6"><div><a class="Post-module--post__home-button--16Kl0" href="/">All Articles</a><div><div class="Content-module--content--3p512"><h1 class="Content-module--content__title--2BDW9">Easy GraphQL requests with Rust</h1><div class="Content-module--content__body--2TrQ-"><ul>
<li><a href="#intro">Intro</a></li>
<li><a href="#setup">Setup</a></li>
<li><a href="#preparing-query">Preparing Query</a></li>
<li><a href="#fetching-and-displaying-data">Fetching and Displaying Data</a></li>
<li><a href="#conslusion">Conslusion</a></li>
</ul>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/fc5409eadd20ca584c797132e43787b2/d48e0/graphql-in-rust.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABVq6xkOgVP//EABoQAAIDAQEAAAAAAAAAAAAAAAECAAMREzH/2gAIAQEAAQUC9ivDY2pYSea4tej/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwGq/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BiP/EABkQAQADAQEAAAAAAAAAAAAAAAARITEBQf/aAAgBAQAGPwKWV6rlIS1//8QAGxAAAwEBAAMAAAAAAAAAAAAAAAERITFBUeH/2gAIAQEAAT8hddRIsqM4sPQdqDcwQm8rtJNqs+AP/9oADAMBAAIAAwAAABDAz//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxBOR//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAex//EABwQAQADAAIDAAAAAAAAAAAAAAEAESExQVFhkf/aAAgBAQABPxBAL6RoUv2U5KtgWHVXzE7tgYsKNKe0NlOGuFnjuGi03oz/2Q=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/fc5409eadd20ca584c797132e43787b2/77824/graphql-in-rust.webp 240w,
/static/fc5409eadd20ca584c797132e43787b2/e7b60/graphql-in-rust.webp 480w,
/static/fc5409eadd20ca584c797132e43787b2/64043/graphql-in-rust.webp 960w,
/static/fc5409eadd20ca584c797132e43787b2/6ce15/graphql-in-rust.webp 1440w,
/static/fc5409eadd20ca584c797132e43787b2/f07e4/graphql-in-rust.webp 1920w,
/static/fc5409eadd20ca584c797132e43787b2/b7aa4/graphql-in-rust.webp 2880w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/webp"
        />
        <source
          srcset="/static/fc5409eadd20ca584c797132e43787b2/24e5f/graphql-in-rust.jpg 240w,
/static/fc5409eadd20ca584c797132e43787b2/fe4bd/graphql-in-rust.jpg 480w,
/static/fc5409eadd20ca584c797132e43787b2/dff20/graphql-in-rust.jpg 960w,
/static/fc5409eadd20ca584c797132e43787b2/75e15/graphql-in-rust.jpg 1440w,
/static/fc5409eadd20ca584c797132e43787b2/32ee3/graphql-in-rust.jpg 1920w,
/static/fc5409eadd20ca584c797132e43787b2/d48e0/graphql-in-rust.jpg 2880w"
          sizes="(max-width: 960px) 100vw, 960px"
          type="image/jpeg"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/fc5409eadd20ca584c797132e43787b2/dff20/graphql-in-rust.jpg"
          alt="Stock photo"
          title="Stock photo"
          loading="lazy"
        />
      </picture>
  </a>
    </span></p>
<h2 id="intro"><a href="#intro" aria-label="intro permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Intro</h2>
<p>In this tutorial-style article, I’m going to show you how to use <a href="https://crates.io/crates/gql_client" target="_blank" rel="nofollow noopener noreferrer">gql_client</a> crate for making requests to GraphQL APIs from your rust application. </p>
<p>We will use <a href="https://graphqlzero.almansi.me/" target="_blank" rel="nofollow noopener noreferrer">GraphQLZero</a> - fake, online API for testing requests. I also assume that you already have rust installed (If not, just use <a href="https://rustup.rs/" target="_blank" rel="nofollow noopener noreferrer">rustup</a>), you understand the basics of the <a href="/how-to-rustup">language</a> and its <a href="https://rust-lang.github.io/async-book/" target="_blank" rel="nofollow noopener noreferrer">asynchronous</a> programming concepts.</p>
<p>As a result, we will build a simple application that fetches the user list from API and outputs it in the console. </p>
<h2 id="setup"><a href="#setup" aria-label="setup permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup</h2>
<p>So let’s go ahead and set up a new cargo project!</p>
<p>First of all, create a new binary application. </p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">cargo new gql-client-test <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> gql-client-test</code></pre></div>
<p>Then add the following dependencies in Cargo.toml file and let’s talk about them a bit.</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span>
<span class="token key property">gql_client</span> <span class="token punctuation">=</span> <span class="token string">"0.2.1"</span>
<span class="token key property">serde</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"1.0"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"derive"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token key property">tokio</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.2"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"full"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre></div>
<ul>
<li><strong>serde</strong> - Though the work related to JSON is done internally by <a href="https://crates.io/crates/reqwest" target="_blank" rel="nofollow noopener noreferrer">reqwest</a> we will still need derive feature of serde to make our structs compatible for serialization and deserialization.</li>
<li><strong>tokio</strong> - Tokio will serve as our runtime for asynchronous code execution. Though there are a lot of other implementations of futures we will go by the standard choice in our example.</li>
</ul>
<p>As a final step of our setup, we will replace the main function with one written below to mark an entry point for tokio to execute. So go ahead and paste this in the <strong>src/main.rs</strong> file.</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token attribute attr-name">#[tokio::main]</span>
<span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> Result<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Box<span class="token operator">&lt;</span><span class="token keyword">dyn</span> std<span class="token punctuation">::</span>error<span class="token punctuation">::</span>Error<span class="token operator">>></span> <span class="token punctuation">{</span>
  <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="preparing-query"><a href="#preparing-query" aria-label="preparing query permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Preparing Query</h2>
<p>Before making a request let’s construct query string and data structures for mapping response data. In our case, we will query the list of users and 3 data fields for each - id, name, and username.</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token attribute attr-name">#[tokio::main]</span>
<span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> Result<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Box<span class="token operator">&lt;</span><span class="token keyword">dyn</span> std<span class="token punctuation">::</span>error<span class="token punctuation">::</span>Error<span class="token operator">>></span> <span class="token punctuation">{</span>
  <span class="token comment">// Add this code in main function</span>
  <span class="token keyword">let</span> query <span class="token operator">=</span> "
    query UserListQuery <span class="token punctuation">{</span>
      users <span class="token punctuation">{</span>
        data <span class="token punctuation">{</span>
          id
          name
          username
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  "<span class="token punctuation">;</span>

  <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The next step is creating correct data structures. Each of them will derive Debug and Deserialize traits for respective purposes, also we will make them a bit more predictable using generics (See NodeList&#x3C;T>). As the query method of gql_client returns the contents of the data field, we won’t need an additional struct for mapping the whole response.</p>
<p>Let’s put the code below at the beginning of the <strong>src/main.rs</strong> file.</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> serde<span class="token punctuation">::</span>Deserialize<span class="token punctuation">;</span>

<span class="token attribute attr-name">#[derive(Deserialize, Debug)]</span>
<span class="token keyword">struct</span> User <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
  username<span class="token punctuation">:</span> String
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[derive(Deserialize, Debug)]</span>
<span class="token keyword">struct</span> Data <span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> NodeList<span class="token operator">&lt;</span>User<span class="token operator">></span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[derive(Deserialize, Debug)]</span>
<span class="token keyword">struct</span> NodeList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> Vec<span class="token operator">&lt;</span>T<span class="token operator">></span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="fetching-and-displaying-data"><a href="#fetching-and-displaying-data" aria-label="fetching and displaying data permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fetching and Displaying Data</h2>
<p>Finally, we are ready to perform the query and output data in the console.
Let’s start by initiating a GraphQL client instance.</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> serde<span class="token punctuation">::</span>Deserialize<span class="token punctuation">;</span>
<span class="token comment">// Add this line under use statement on the top </span>
<span class="token keyword">use</span> gql_client<span class="token punctuation">::</span>Client<span class="token punctuation">;</span>

<span class="token comment">// Add this lines under query str literal in main function</span>
<span class="token keyword">let</span> endpoint <span class="token operator">=</span> <span class="token string">"https://graphqlzero.almansi.me/api"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> client <span class="token operator">=</span> Client<span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Assuming this part was pretty simple, move forward and put the final lines under the client
instantiation code.</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token comment">// Add this code under client instantiation code</span>
<span class="token keyword">let</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span>query<span class="token punctuation">::</span><span class="token operator">&lt;</span>Data<span class="token operator">></span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">"# | Name | Username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> user <span class="token keyword">in</span> <span class="token operator">&amp;</span>response<span class="token punctuation">.</span>users<span class="token punctuation">.</span>data <span class="token punctuation">{</span>
  <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">"{} | {} | {}"</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>id<span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">,</span> user<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>In the above code, we are telling rust to execute the query which is going to retrieve type Data as a response. In our case we want our program to <strong>panic</strong> in case something wrong happens, so we are just calling <strong>unwrap</strong> to extract the response from Result&#x3C;Data, GraphQLError> enum.</p>
<p>Finally, we can borrow the user list in the for loop and print data in a readable format. If you’ve done everything correctly you should see something like this in the console output when running <strong>cargo run</strong>. </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 791px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3f96ff8a95b627168757b410e346afd6/b91a0/console-output.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 49.81036662452591%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6ElEQVQoz42Saw6EIAyEOc4qKA8RFfD+x+p20DU+soYfkwZCv84AQilFev6QS5KmaaKcV1rXleZ5ppQSrzPFGGlZoKXsO+doGAbq+57atiUp5SGhe03DaMgFXYAhBPJ82FpbGlExFId/zU3TFP3WZ6iw3BTGwKANhsla60vTXWdHD4dwAGeIhTiARo7qvb+4uOvfvkAs3M3CwJzTAQcYUXFPb4AHEBHhLMbEj7BfPEMxABVOu66rB8LhBtxgcIjq/Xg8SsdOq4F4AGPM0Qxhba0r9eyuBirMDrnKlHqGVDtUe5y371ELg76SgDTP4vlmbgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/3f96ff8a95b627168757b410e346afd6/77824/console-output.webp 240w,
/static/3f96ff8a95b627168757b410e346afd6/e7b60/console-output.webp 480w,
/static/3f96ff8a95b627168757b410e346afd6/465b7/console-output.webp 791w"
          sizes="(max-width: 791px) 100vw, 791px"
          type="image/webp"
        />
        <source
          srcset="/static/3f96ff8a95b627168757b410e346afd6/81121/console-output.png 240w,
/static/3f96ff8a95b627168757b410e346afd6/7fcbf/console-output.png 480w,
/static/3f96ff8a95b627168757b410e346afd6/b91a0/console-output.png 791w"
          sizes="(max-width: 791px) 100vw, 791px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/3f96ff8a95b627168757b410e346afd6/b91a0/console-output.png"
          alt="User data output in console"
          title="User data output in console"
          loading="lazy"
        />
      </picture>
  </a>
    </span></p>
<h2 id="conslusion"><a href="#conslusion" aria-label="conslusion permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conslusion</h2>
<p>The main goal of this article was to show some abilities of the rust language in web development. As you can see it gives you much more productivity and good development experience while being a lower-level language than ones that are used primarily for the web. </p>
<p>While being an author of the library we used I urge you to also check other libraries written for this topic (such as <a href="https://github.com/graphql-rust/graphql-client" target="_blank" rel="nofollow noopener noreferrer">this</a>) because you will probably need more advanced features in the future as your project grows.</p>
<p>In case you’ll have some opinions or feature requests about the library feel free to open an <a href="https://github.com/arthurkhlghatyan/gql-client-rs/issues" target="_blank" rel="nofollow noopener noreferrer">issue</a> or reach me out in community <a href="https://t.me/rustarmenia" target="_blank" rel="nofollow noopener noreferrer">chat</a>.  </p></div></div></div><div class="Post-module--post__footer--3WzWU"><div><p class="Meta-module--meta__date--29eD7">Published <!-- -->4 Dec 2020</p></div><div class="Tags-module--tags--1L_ct"><ul class="Tags-module--tags__list--91FqN"><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/rust/">Rust</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/graph-ql/">GraphQL</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/tutorial/">Tutorial</a></li></ul></div><div class="Author-module--author--2Yefr"><p><a class="Author-module--author__bio-twitter--n-O9n" href="https://www.linkedin.com/in/arthurkhlghatyan" rel="noopener noreferrer" target="_blank"><strong>Arthur K.</strong> on LinkedIn</a></p></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/graphql-in-rust";window.webpackCompilationHash="d768cc31ba0e610362f8";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-8269cb72029c2ff29079.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-465a0a6e5620b283c9ac.js"],"component---src-templates-not-found-template-js":["/component---src-templates-not-found-template-js-0fb35e0836704672cd66.js"],"component---src-templates-tags-list-template-js":["/component---src-templates-tags-list-template-js-38281f1a78f75b901a8d.js"],"component---src-templates-categories-list-template-js":["/component---src-templates-categories-list-template-js-bbff32034713808d1425.js"],"component---src-templates-contact-me-template-js":["/component---src-templates-contact-me-template-js-1958cbbbb1685d600b7a.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-d53f334db4ffdd468af9.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-2dbbe0fcdcf5b38009d5.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-3eebb142e354b7a38b35.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-804798fc5c449e59bd1b.js"],"component---src-templates-index-template-js":["/component---src-templates-index-template-js-4ab84db04b72b63b52dc.js"]};/*]]>*/</script><script src="/component---src-templates-post-template-js-d53f334db4ffdd468af9.js" async=""></script><script src="/commons-793d59dbe64e16175122.js" async=""></script><script src="/styles-cc4f44a7919fcaed6f8b.js" async=""></script><script src="/app-8269cb72029c2ff29079.js" async=""></script><script src="/webpack-runtime-4136eca1a17b84e17e55.js" async=""></script></body></html>